import{a2 as N,a3 as p,a4 as ee,a5 as E,a6 as re,g as y,a7 as b,Y as h,a8 as x,x as B,a9 as ae,aa as ne,I as te,J as V,h as m,a as X,ab as k,ac as ie,ad as fe,B as se,N as G,ae as Z,X as F,af as Y,A as Q,ag as ue,ah as le,b as L,G as ve,n as M,C as ce,$ as W,ai as de,aj as _e,ak as be,al as oe,am as ge,Z as he,l as ye,an as Pe,ao as Ee,ap as Re,E as $,aq as Ie,k as H,ar as we,as as Se}from"./runtime.B-KhZ9vM.js";function S(e,n=null,v){if(typeof e!="object"||e===null||N in e)return e;const s=ne(e);if(s!==p&&s!==ee)return e;var a=new Map,u=te(e),o=E(0);u&&a.set("length",E(e.length));var P;return new Proxy(e,{defineProperty(l,r,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&ae();var f=a.get(r);return f===void 0?(f=E(t.value),a.set(r,f)):h(f,S(t.value,P)),!0},deleteProperty(l,r){var t=a.get(r);if(t===void 0)r in l&&a.set(r,E(b));else{if(u&&typeof r=="string"){var f=a.get("length"),i=Number(r);Number.isInteger(i)&&i<f.v&&h(f,i)}h(t,b),K(o)}return!0},get(l,r,t){var _;if(r===N)return e;var f=a.get(r),i=r in l;if(f===void 0&&(!i||(_=x(l,r))!=null&&_.writable)&&(f=E(S(i?l[r]:b,P)),a.set(r,f)),f!==void 0){var c=y(f);return c===b?void 0:c}return Reflect.get(l,r,t)},getOwnPropertyDescriptor(l,r){var t=Reflect.getOwnPropertyDescriptor(l,r);if(t&&"value"in t){var f=a.get(r);f&&(t.value=y(f))}else if(t===void 0){var i=a.get(r),c=i==null?void 0:i.v;if(i!==void 0&&c!==b)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return t},has(l,r){var c;if(r===N)return!0;var t=a.get(r),f=t!==void 0&&t.v!==b||Reflect.has(l,r);if(t!==void 0||B!==null&&(!f||(c=x(l,r))!=null&&c.writable)){t===void 0&&(t=E(f?S(l[r],P):b),a.set(r,t));var i=y(t);if(i===b)return!1}return f},set(l,r,t,f){var I;var i=a.get(r),c=r in l;if(u&&r==="length")for(var _=t;_<i.v;_+=1){var R=a.get(_+"");R!==void 0?h(R,b):_ in l&&(R=E(b),a.set(_+"",R))}i===void 0?(!c||(I=x(l,r))!=null&&I.writable)&&(i=E(void 0),h(i,S(t,P)),a.set(r,i)):(c=i.v!==b,h(i,S(t,P)));var g=Reflect.getOwnPropertyDescriptor(l,r);if(g!=null&&g.set&&g.set.call(f,t),!c){if(u&&typeof r=="string"){var A=a.get("length"),O=Number(r);Number.isInteger(O)&&O>=A.v&&h(A,O+1)}K(o)}return!0},ownKeys(l){y(o);var r=Reflect.ownKeys(l).filter(i=>{var c=a.get(i);return c===void 0||c.v!==b});for(var[t,f]of a)f.v!==b&&!(t in l)&&r.push(t);return r},setPrototypeOf(){re()}})}function K(e,n=1){h(e,e.v+n)}function Ne(e,n,v=!1){m&&X();var s=e,a=null,u=null,o=b,P=v?k:0,l=!1;const r=(f,i=!0)=>{l=!0,t(i,f)},t=(f,i)=>{if(o===(o=f))return;let c=!1;if(m){const _=s.data===ie;!!o===_&&(s=fe(),se(s),G(!1),c=!0)}o?(a?Z(a):i&&(a=F(()=>i(s))),u&&Y(u,()=>{u=null})):(u?Z(u):i&&(u=F(()=>i(s))),a&&Y(a,()=>{a=null})),c&&G(!0)};V(()=>{l=!1,n(r),l||t(null,null)},P),m&&(s=Q)}function me(e,n,v){m&&X();var s=e,a,u;V(()=>{a!==(a=n())&&(u&&(Y(u),u=null),a&&(u=F(()=>v(s,a))))},k),m&&(s=Q)}function z(e,n){return e===n||(e==null?void 0:e[N])===n}function De(e={},n,v,s){return ue(()=>{var a,u;return le(()=>{a=u,u=[],L(()=>{e!==v(...u)&&(n(e,...u),a&&z(v(...a),e)&&n(null,...a))})}),()=>{ve(()=>{u&&z(v(...u),e)&&n(null,...u)})}}),e}function Ae(e,n,v){if(e==null)return n(void 0),M;const s=L(()=>e.subscribe(n,v));return s.unsubscribe?()=>s.unsubscribe():s}let D=!1;function xe(e,n,v){const s=v[n]??(v[n]={store:null,source:W(void 0),unsubscribe:M});if(s.store!==e)if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=M;else{var a=!0;s.unsubscribe=Ae(e,u=>{a?s.source.v=u:h(s.source,u)}),a=!1}return y(s.source)}function Le(){const e={};return ce(()=>{for(var n in e)e[n].unsubscribe()}),e}function Oe(e){var n=D;try{return D=!1,[e(),D]}finally{D=n}}function J(e){for(var n=B,v=B;n!==null&&!(n.f&(Ee|Re));)n=n.parent;try{return $(n),e()}finally{$(v)}}function qe(e,n,v,s){var j;var a=(v&Ie)!==0,u=!ye||(v&Pe)!==0,o=(v&ge)!==0,P=(v&we)!==0,l=!1,r;o?[r,l]=Oe(()=>e[n]):r=e[n];var t=N in e||he in e,f=((j=x(e,n))==null?void 0:j.set)??(t&&o&&n in e?d=>e[n]=d:void 0),i=s,c=!0,_=!1,R=()=>(_=!0,c&&(c=!1,P?i=L(s):i=s),i);r===void 0&&s!==void 0&&(f&&u&&de(),r=R(),f&&f(r));var g;if(u)g=()=>{var d=e[n];return d===void 0?R():(c=!0,_=!1,d)};else{var A=J(()=>(a?H:Se)(()=>e[n]));A.f|=_e,g=()=>{var d=y(A);return d!==void 0&&(i=void 0),d===void 0?i:d}}if(!(v&be))return g;if(f){var O=e.$$legacy;return function(d,w){return arguments.length>0?((!u||!w||O||l)&&f(w?g():d),d):g()}}var I=!1,U=!1,q=W(r),T=J(()=>H(()=>{var d=g(),w=y(q);return I?(I=!1,U=!0,w):(U=!1,q.v=d)}));return a||(T.equals=oe),function(d,w){if(arguments.length>0){const C=w?y(T):u&&o?S(d):d;return T.equals(C)||(I=!0,h(q,C),_&&i!==void 0&&(i=C),L(()=>y(T))),d}return y(T)}}export{S as a,De as b,me as c,xe as d,Ne as i,qe as p,Le as s};
